# Cartesia Infill Repro

Reproduce Cartesia infill audio quality issues.

## Setup

```bash
npm install

echo "CARTESIA_KEY=your-api-key" > .env

cp /path/to/audio.mp3 scripts/example-recording.mp3

npm test
```

## Output Structure

For each test, 4 files are generated in `output/`:

```
001-left-yo-my-name-is-benjamin-and.wav      # Original audio (left context)
001-gen-this-is-custom.wav                   # Generated infill audio
001-right-cursors-in-framer-so-without.wav   # Original audio (right context)
001-final-yo-my-name-is-benjamin-and-this... # Combined: left + gen + right (with crossfade)
```

### How it works

1. Audio is transcribed with word timestamps using Cartesia STT
2. Voice is cloned from the first 20 words
3. For each test position:
   - Extract 6 words as **left context** (original audio)
   - Skip 3 words to be **infilled** (regenerated by Cartesia)
   - Extract 6 words as **right context** (original audio)
   - Call Cartesia infill API with left/right audio + transcript
   - Join all 3 segments with 50ms crossfade

### Expected vs Actual

The generated infill (`*-gen-*.wav`) should seamlessly blend with the original audio. Listen to `*-final-*.wav` files to hear the transitions.

**Issues to listen for:**
- Voice mismatch between original and generated
- Unnatural pacing or rhythm
- Audible seams at transition points
- Pronunciation differences
